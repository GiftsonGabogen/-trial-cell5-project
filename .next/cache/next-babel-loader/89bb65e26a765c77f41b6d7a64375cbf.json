{"ast":null,"code":"/* Nested Sorting */\nconst sample = [[{\n  __typename: \"Movie\",\n  name: \"Inception\",\n  _id: \"5f9a086a89cc6d039a0883eb\",\n  myrate: 3\n}, {\n  __typename: \"Movie\",\n  name: \"spirited away\",\n  _id: \"5f9a087489cc6d039a0883ec\",\n  myrate: 5\n}, {\n  __typename: \"Movie\",\n  name: \"Django Unchained\",\n  _id: \"5f9a088689cc6d039a0883ed\",\n  myrate: 3\n}, {\n  __typename: \"Movie\",\n  name: \"Dark Knight\",\n  _id: \"5f9a088e89cc6d039a0883ee\",\n  myrate: 3\n}, {\n  __typename: \"Movie\",\n  name: \"Hello World\",\n  _id: \"5f9a089889cc6d039a0883ef\",\n  myrate: 3\n}, {\n  __typename: \"Movie\",\n  name: \"american pie\",\n  _id: \"5f9a08d589cc6d039a0883f0\",\n  myrate: 2\n}, {\n  __typename: \"Movie\",\n  name: \"hello\",\n  _id: \"5f9a091089cc6d039a0883f1\",\n  myrate: 1\n}, {\n  __typename: \"Movie\",\n  name: \"Titanic\",\n  _id: \"5f9a86a389cc6d039a0883f2\",\n  myrate: 3\n}]]; //Arrange The Array when they have the same value on the given attribute\n//like same rate or same name\n\nfunction arrangeWithCommons({\n  array,\n  method\n}) {\n  const sortedMovies = [];\n  let sortHolder = [];\n\n  for (let i = 0; i < array.length; i++) {\n    if (i === 0) {\n      sortHolder.push(array[i]);\n      continue;\n    }\n\n    if (array[i][method] === array[i - 1][method]) {\n      sortHolder.push(array[i]);\n    } else {\n      sortedMovies.push(sortHolder);\n      sortHolder = [array[i]];\n    }\n\n    if (i === array.length - 1) {\n      if (sortHolder.length !== 0) {\n        sortedMovies.push(sortHolder);\n      }\n    }\n  }\n\n  return sortedMovies;\n}\n\nconst sortMyrate = ({\n  movies,\n  sortMethod\n}) => {\n  return movies.sort((a, b) => {\n    if (a.myrate > b.myrate) {\n      return sortMethod.myrate.sort === \"asc\" ? 1 : -1;\n    } else {\n      return sortMethod.myrate.sort === \"asc\" ? -1 : 1;\n    }\n  });\n};\n\nconst sortName = ({\n  movies,\n  sortMethod\n}) => {\n  return movies.sort((a, b) => {\n    if (a.name.toLowerCase() > b.name.toLowerCase()) {\n      return sortMethod.name.sort === \"asc\" ? 1 : -1;\n    } else {\n      return sortMethod.name.sort === \"asc\" ? -1 : 1;\n    }\n  });\n};\n\nfunction sorter({\n  sortMethod,\n  movies,\n  sortPriority\n}) {\n  const sortedMovies = [];\n  const moviesCopy = movies.slice();\n\n  if (sortPriority === \"myrate\") {\n    //sort array by myrate\n    const sortedRate = sortMyrate({\n      movies: moviesCopy,\n      sortMethod\n    }); //compress array into sub array if they have the same myrate value\n\n    const arranged = arrangeWithCommons({\n      array: sortedRate,\n      method: \"myrate\"\n    }); //sort the individual sub array according to name\n\n    for (let i = 0; i < arranged.length; i++) {\n      sortName({\n        movies: arranged[i],\n        sortMethod\n      });\n    } //push all of the sorted array and subarray to sortedMovies\n\n\n    arranged.map(subArray => {\n      subArray.map(arr => {\n        sortedMovies.push(arr);\n      });\n    });\n    return sortedMovies;\n  } else if (sortPriority === \"name\") {\n    //sort array by name\n    const sortedName = sortName({\n      movies: moviesCopy,\n      sortMethod\n    }); //compress array into sub array if they have the same name value\n\n    const arranged = arrangeWithCommons({\n      array: sortedName,\n      method: \"name\"\n    }); //sort the individual sub array according to name\n\n    for (let i = 0; i < arranged.length; i++) {\n      sortMyrate({\n        movies: arranged[i],\n        sortMethod\n      });\n    } //push all of the sorted array and subarray to sortedMovies\n\n\n    arranged.map(subArray => {\n      subArray.map(arr => {\n        sortedMovies.push(arr);\n      });\n    });\n    return sortedMovies;\n  } else {\n    if (sortMethod.name.sort !== \"\") {\n      return sortName({\n        movies,\n        sortMethod\n      });\n    } else {\n      return sortMyrate({\n        movies,\n        sortMethod\n      });\n    }\n  }\n}\n\nconsole.log(sorter({\n  sortMethod: {\n    name: {\n      sort: \"asc\"\n    },\n    myrate: {\n      sort: \"asc\"\n    }\n  },\n  movies: sample,\n  sortPriority: \"myrate\"\n}));","map":{"version":3,"sources":["/Users/lucky/Documents/trial/crudList/components/tools/sorter.js"],"names":["sample","__typename","name","_id","myrate","arrangeWithCommons","array","method","sortedMovies","sortHolder","i","length","push","sortMyrate","movies","sortMethod","sort","a","b","sortName","toLowerCase","sorter","sortPriority","moviesCopy","slice","sortedRate","arranged","map","subArray","arr","sortedName","console","log"],"mappings":"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","sourcesContent":["/* Nested Sorting */\n\nconst sample = [\n\t[\n\t\t{\n\t\t\t__typename: \"Movie\",\n\t\t\tname: \"Inception\",\n\t\t\t_id: \"5f9a086a89cc6d039a0883eb\",\n\t\t\tmyrate: 3\n\t\t},\n\t\t{\n\t\t\t__typename: \"Movie\",\n\t\t\tname: \"spirited away\",\n\t\t\t_id: \"5f9a087489cc6d039a0883ec\",\n\t\t\tmyrate: 5\n\t\t},\n\t\t{\n\t\t\t__typename: \"Movie\",\n\t\t\tname: \"Django Unchained\",\n\t\t\t_id: \"5f9a088689cc6d039a0883ed\",\n\t\t\tmyrate: 3\n\t\t},\n\t\t{\n\t\t\t__typename: \"Movie\",\n\t\t\tname: \"Dark Knight\",\n\t\t\t_id: \"5f9a088e89cc6d039a0883ee\",\n\t\t\tmyrate: 3\n\t\t},\n\t\t{\n\t\t\t__typename: \"Movie\",\n\t\t\tname: \"Hello World\",\n\t\t\t_id: \"5f9a089889cc6d039a0883ef\",\n\t\t\tmyrate: 3\n\t\t},\n\t\t{\n\t\t\t__typename: \"Movie\",\n\t\t\tname: \"american pie\",\n\t\t\t_id: \"5f9a08d589cc6d039a0883f0\",\n\t\t\tmyrate: 2\n\t\t},\n\t\t{\n\t\t\t__typename: \"Movie\",\n\t\t\tname: \"hello\",\n\t\t\t_id: \"5f9a091089cc6d039a0883f1\",\n\t\t\tmyrate: 1\n\t\t},\n\t\t{\n\t\t\t__typename: \"Movie\",\n\t\t\tname: \"Titanic\",\n\t\t\t_id: \"5f9a86a389cc6d039a0883f2\",\n\t\t\tmyrate: 3\n\t\t}\n\t]\n];\n\n//Arrange The Array when they have the same value on the given attribute\n//like same rate or same name\nfunction arrangeWithCommons({ array, method }) {\n\tconst sortedMovies = [];\n\tlet sortHolder = [];\n\tfor (let i = 0; i < array.length; i++) {\n\t\tif (i === 0) {\n\t\t\tsortHolder.push(array[i]);\n\t\t\tcontinue;\n\t\t}\n\t\tif (array[i][method] === array[i - 1][method]) {\n\t\t\tsortHolder.push(array[i]);\n\t\t} else {\n\t\t\tsortedMovies.push(sortHolder);\n\t\t\tsortHolder = [array[i]];\n\t\t}\n\t\tif (i === array.length - 1) {\n\t\t\tif (sortHolder.length !== 0) {\n\t\t\t\tsortedMovies.push(sortHolder);\n\t\t\t}\n\t\t}\n\t}\n\treturn sortedMovies;\n}\n\nconst sortMyrate = ({ movies, sortMethod }) => {\n\treturn movies.sort((a, b) => {\n\t\tif (a.myrate > b.myrate) {\n\t\t\treturn sortMethod.myrate.sort === \"asc\" ? 1 : -1;\n\t\t} else {\n\t\t\treturn sortMethod.myrate.sort === \"asc\" ? -1 : 1;\n\t\t}\n\t});\n};\n\nconst sortName = ({ movies, sortMethod }) => {\n\treturn movies.sort((a, b) => {\n\t\tif (a.name.toLowerCase() > b.name.toLowerCase()) {\n\t\t\treturn sortMethod.name.sort === \"asc\" ? 1 : -1;\n\t\t} else {\n\t\t\treturn sortMethod.name.sort === \"asc\" ? -1 : 1;\n\t\t}\n\t});\n};\n\nfunction sorter({ sortMethod, movies, sortPriority }) {\n\tconst sortedMovies = [];\n\tconst moviesCopy = movies.slice();\n\tif (sortPriority === \"myrate\") {\n\t\t//sort array by myrate\n\t\tconst sortedRate = sortMyrate({ movies: moviesCopy, sortMethod });\n\t\t//compress array into sub array if they have the same myrate value\n\t\tconst arranged = arrangeWithCommons({\n\t\t\tarray: sortedRate,\n\t\t\tmethod: \"myrate\"\n\t\t});\n\t\t//sort the individual sub array according to name\n\t\tfor (let i = 0; i < arranged.length; i++) {\n\t\t\tsortName({ movies: arranged[i], sortMethod });\n\t\t}\n\t\t//push all of the sorted array and subarray to sortedMovies\n\t\tarranged.map(subArray => {\n\t\t\tsubArray.map(arr => {\n\t\t\t\tsortedMovies.push(arr);\n\t\t\t});\n\t\t});\n\n\t\treturn sortedMovies;\n\t} else if (sortPriority === \"name\") {\n\t\t//sort array by name\n\t\tconst sortedName = sortName({ movies: moviesCopy, sortMethod });\n\t\t//compress array into sub array if they have the same name value\n\t\tconst arranged = arrangeWithCommons({\n\t\t\tarray: sortedName,\n\t\t\tmethod: \"name\"\n\t\t});\n\t\t//sort the individual sub array according to name\n\t\tfor (let i = 0; i < arranged.length; i++) {\n\t\t\tsortMyrate({ movies: arranged[i], sortMethod });\n\t\t}\n\t\t//push all of the sorted array and subarray to sortedMovies\n\t\tarranged.map(subArray => {\n\t\t\tsubArray.map(arr => {\n\t\t\t\tsortedMovies.push(arr);\n\t\t\t});\n\t\t});\n\t\treturn sortedMovies;\n\t} else {\n\t\tif (sortMethod.name.sort !== \"\") {\n\t\t\treturn sortName({ movies, sortMethod });\n\t\t} else {\n\t\t\treturn sortMyrate({ movies, sortMethod });\n\t\t}\n\t}\n}\n\nconsole.log(\n\tsorter({\n\t\tsortMethod: { name: { sort: \"asc\" }, myrate: { sort: \"asc\" } },\n\t\tmovies: sample,\n\t\tsortPriority: \"myrate\"\n\t})\n);\n"]},"metadata":{},"sourceType":"script"}