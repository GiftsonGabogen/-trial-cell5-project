{"ast":null,"code":"var _jsxFileName = \"/Users/lucky/Documents/trial/crudList/components/context.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { createContext, useReducer, useState } from \"react\";\nimport { DELETE_MOVIE, UPDATE_MOVIE, ADD_MOVIE } from \"./Actions\";\nexport const Context = /*#__PURE__*/createContext();\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case DELETE_MOVIE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        movies: state.movies.filter(movie => movie._id !== action.payload)\n      });\n\n    case ADD_MOVIE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        movies: [action.payload, ...state.movies]\n      });\n\n    case UPDATE_MOVIE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        movies: state.movies.map(movie => movie._id === action.payload._id ? movie = action.payload : movie)\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport const Provider = ({\n  children\n}) => {\n  const initialState = {\n    movies: []\n  };\n  const {\n    0: {\n      movies\n    },\n    1: dispatch\n  } = useReducer(reducer, initialState);\n\n  const updateAction = movie => {\n    dispatch({\n      type: UPDATE_MOVIE,\n      payload: movie\n    });\n  };\n\n  const deleteAction = movie => {\n    dispatch({\n      type: DELETE_MOVIE,\n      payload: movie\n    });\n  };\n\n  const addAction = movie => {\n    dispatch({\n      type: ADD_MOVIE,\n      payload: movie\n    });\n  };\n\n  return __jsx(Context.Provider, {\n    value: {\n      movies,\n      actions: {\n        updateAction,\n        deleteAction,\n        addAction\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 3\n    }\n  }, children);\n};","map":{"version":3,"sources":["/Users/lucky/Documents/trial/crudList/components/context.js"],"names":["React","createContext","useReducer","useState","DELETE_MOVIE","UPDATE_MOVIE","ADD_MOVIE","Context","reducer","state","action","type","movies","filter","movie","_id","payload","map","Provider","children","initialState","dispatch","updateAction","deleteAction","addAction","actions"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,EAA2CC,QAA3C,QAA2D,OAA3D;AACA,SAASC,YAAT,EAAuBC,YAAvB,EAAqCC,SAArC,QAAsD,WAAtD;AAEA,OAAO,MAAMC,OAAO,gBAAGN,aAAa,EAA7B;;AAEP,MAAMO,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAClC,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKP,YAAL;AACC,6CACIK,KADJ;AAECG,QAAAA,MAAM,EAAEH,KAAK,CAACG,MAAN,CAAaC,MAAb,CAAoBC,KAAK,IAAIA,KAAK,CAACC,GAAN,KAAcL,MAAM,CAACM,OAAlD;AAFT;;AAID,SAAKV,SAAL;AACC,6CACIG,KADJ;AAECG,QAAAA,MAAM,EAAE,CAACF,MAAM,CAACM,OAAR,EAAiB,GAAGP,KAAK,CAACG,MAA1B;AAFT;;AAID,SAAKP,YAAL;AACC,6CACII,KADJ;AAECG,QAAAA,MAAM,EAAEH,KAAK,CAACG,MAAN,CAAaK,GAAb,CAAiBH,KAAK,IAC7BA,KAAK,CAACC,GAAN,KAAcL,MAAM,CAACM,OAAP,CAAeD,GAA7B,GAAoCD,KAAK,GAAGJ,MAAM,CAACM,OAAnD,GAA8DF,KADvD;AAFT;;AAMD;AACC,aAAOL,KAAP;AAnBF;AAqBA,CAtBD;;AAwBA,OAAO,MAAMS,QAAQ,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AACzC,QAAMC,YAAY,GAAG;AACpBR,IAAAA,MAAM,EAAE;AADY,GAArB;AAGA,QAAM;AAAA,OAAC;AAAEA,MAAAA;AAAF,KAAD;AAAA,OAAaS;AAAb,MAAyBnB,UAAU,CAACM,OAAD,EAAUY,YAAV,CAAzC;;AAEA,QAAME,YAAY,GAAGR,KAAK,IAAI;AAC7BO,IAAAA,QAAQ,CAAC;AACRV,MAAAA,IAAI,EAAEN,YADE;AAERW,MAAAA,OAAO,EAAEF;AAFD,KAAD,CAAR;AAIA,GALD;;AAMA,QAAMS,YAAY,GAAGT,KAAK,IAAI;AAC7BO,IAAAA,QAAQ,CAAC;AACRV,MAAAA,IAAI,EAAEP,YADE;AAERY,MAAAA,OAAO,EAAEF;AAFD,KAAD,CAAR;AAIA,GALD;;AAMA,QAAMU,SAAS,GAAGV,KAAK,IAAI;AAC1BO,IAAAA,QAAQ,CAAC;AACRV,MAAAA,IAAI,EAAEL,SADE;AAERU,MAAAA,OAAO,EAAEF;AAFD,KAAD,CAAR;AAIA,GALD;;AAMA,SACC,MAAC,OAAD,CAAS,QAAT;AACC,IAAA,KAAK,EAAE;AAAEF,MAAAA,MAAF;AAAUa,MAAAA,OAAO,EAAE;AAAEH,QAAAA,YAAF;AAAgBC,QAAAA,YAAhB;AAA8BC,QAAAA;AAA9B;AAAnB,KADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGEL,QAHF,CADD;AAOA,CA/BM","sourcesContent":["import React, { createContext, useReducer, useState } from \"react\";\nimport { DELETE_MOVIE, UPDATE_MOVIE, ADD_MOVIE } from \"./Actions\";\n\nexport const Context = createContext();\n\nconst reducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase DELETE_MOVIE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmovies: state.movies.filter(movie => movie._id !== action.payload)\n\t\t\t};\n\t\tcase ADD_MOVIE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmovies: [action.payload, ...state.movies]\n\t\t\t};\n\t\tcase UPDATE_MOVIE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmovies: state.movies.map(movie =>\n\t\t\t\t\tmovie._id === action.payload._id ? (movie = action.payload) : movie\n\t\t\t\t)\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport const Provider = ({ children }) => {\n\tconst initialState = {\n\t\tmovies: []\n\t};\n\tconst [{ movies }, dispatch] = useReducer(reducer, initialState);\n\n\tconst updateAction = movie => {\n\t\tdispatch({\n\t\t\ttype: UPDATE_MOVIE,\n\t\t\tpayload: movie\n\t\t});\n\t};\n\tconst deleteAction = movie => {\n\t\tdispatch({\n\t\t\ttype: DELETE_MOVIE,\n\t\t\tpayload: movie\n\t\t});\n\t};\n\tconst addAction = movie => {\n\t\tdispatch({\n\t\t\ttype: ADD_MOVIE,\n\t\t\tpayload: movie\n\t\t});\n\t};\n\treturn (\n\t\t<Context.Provider\n\t\t\tvalue={{ movies, actions: { updateAction, deleteAction, addAction } }}\n\t\t>\n\t\t\t{children}\n\t\t</Context.Provider>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}