{"ast":null,"code":"//arranging data with common value on the given attribute\n//ex: with the same myrate or the same name\n//then group them on a sub array\nfunction arrangeWithCommons(_ref) {\n  var array = _ref.array,\n      method = _ref.method;\n  var sortedMovies = [];\n  var sortHolder = [];\n\n  for (var i = 0; i < array.length; i++) {\n    if (i === 0) {\n      sortHolder.push(array[i]);\n      continue;\n    }\n\n    if (array[i][method] === array[i - 1][method]) {\n      sortHolder.push(array[i]);\n    } else {\n      sortedMovies.push(sortHolder);\n      sortHolder = [array[i]];\n    }\n\n    if (i === array.length - 1) {\n      if (sortHolder.length !== 0) {\n        sortedMovies.push(sortHolder);\n      }\n    }\n  }\n\n  return sortedMovies;\n} //for sorting the myrate attribute\n\n\nvar sortMyrate = function sortMyrate(_ref2) {\n  var movies = _ref2.movies,\n      sortMethod = _ref2.sortMethod;\n  return movies.sort(function (a, b) {\n    if (a.myrate > b.myrate) {\n      return sortMethod.myrate.sort === \"asc\" ? 1 : -1;\n    } else {\n      return sortMethod.myrate.sort === \"asc\" ? -1 : 1;\n    }\n  });\n};\n\nvar sortName = function sortName(_ref3) {\n  var movies = _ref3.movies,\n      sortMethod = _ref3.sortMethod;\n  return movies.sort(function (a, b) {\n    if (a.name.toLowerCase() > b.name.toLowerCase()) {\n      return sortMethod.name.sort === \"asc\" ? 1 : -1;\n    } else {\n      return sortMethod.name.sort === \"asc\" ? -1 : 1;\n    }\n  });\n};\n\nexport default function Sorter(_ref4) {\n  var sortMethod = _ref4.sortMethod,\n      movies = _ref4.movies,\n      sortPriority = _ref4.sortPriority;\n\n  if (sortMethod.name.sort === \"\" && sortMethod.myrate.sort == \"\") {\n    return movies;\n  }\n\n  var sortedMovies = [];\n  var moviesCopy = movies.slice();\n\n  if (sortPriority === \"myrate\") {\n    //sort array by myrate\n    var sortedRate = sortMyrate({\n      movies: moviesCopy,\n      sortMethod: sortMethod\n    }); //compress array into sub array if they have the same myrate value\n\n    var arranged = arrangeWithCommons({\n      array: sortedRate,\n      method: \"myrate\"\n    }); //sort the individual sub array according to name\n\n    for (var i = 0; i < arranged.length; i++) {\n      sortName({\n        movies: arranged[i],\n        sortMethod: sortMethod\n      });\n    } //push all of the sorted array and subarray to sortedMovies\n\n\n    arranged.map(function (subArray) {\n      subArray.map(function (arr) {\n        sortedMovies.push(arr);\n      });\n    });\n    return sortedMovies;\n  } else if (sortPriority === \"name\") {\n    //sort array by name\n    var sortedName = sortName({\n      movies: moviesCopy,\n      sortMethod: sortMethod\n    }); //compress array into sub array if they have the same name value\n\n    var _arranged = arrangeWithCommons({\n      array: sortedName,\n      method: \"name\"\n    }); //sort the individual sub array according to name\n\n\n    for (var _i = 0; _i < _arranged.length; _i++) {\n      sortMyrate({\n        movies: _arranged[_i],\n        sortMethod: sortMethod\n      });\n    } //push all of the sorted array and subarray to sortedMovies\n\n\n    _arranged.map(function (subArray) {\n      subArray.map(function (arr) {\n        sortedMovies.push(arr);\n      });\n    });\n\n    return sortedMovies;\n  } else {\n    if (sortMethod.name.sort !== \"\") {\n      return sortName({\n        movies: movies,\n        sortMethod: sortMethod\n      });\n    } else {\n      return sortMyrate({\n        movies: movies,\n        sortMethod: sortMethod\n      });\n    }\n  }\n}\n_c = Sorter;\n\nvar _c;\n\n$RefreshReg$(_c, \"Sorter\");","map":{"version":3,"sources":["/Users/lucky/Documents/trial/crudList/components/tools/sorter.ts"],"names":["arrangeWithCommons","array","method","sortedMovies","sortHolder","i","length","push","sortMyrate","movies","sortMethod","sort","a","b","myrate","sortName","name","toLowerCase","Sorter","sortPriority","moviesCopy","slice","sortedRate","arranged","map","subArray","arr","sortedName"],"mappings":"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","sourcesContent":["import { IMovie, ISortMethod } from \"../../pages/index\";\n\n//arranging data with common value on the given attribute\n//ex: with the same myrate or the same name\n//then group them on a sub array\nfunction arrangeWithCommons({\n\tarray,\n\tmethod\n}: {\n\tarray: IMovie[];\n\tmethod: string;\n}) {\n\tconst sortedMovies = [];\n\tlet sortHolder = [];\n\tfor (let i = 0; i < array.length; i++) {\n\t\tif (i === 0) {\n\t\t\tsortHolder.push(array[i]);\n\t\t\tcontinue;\n\t\t}\n\t\tif (array[i][method] === array[i - 1][method]) {\n\t\t\tsortHolder.push(array[i]);\n\t\t} else {\n\t\t\tsortedMovies.push(sortHolder);\n\t\t\tsortHolder = [array[i]];\n\t\t}\n\t\tif (i === array.length - 1) {\n\t\t\tif (sortHolder.length !== 0) {\n\t\t\t\tsortedMovies.push(sortHolder);\n\t\t\t}\n\t\t}\n\t}\n\treturn sortedMovies;\n}\n\n//for sorting the myrate attribute\nconst sortMyrate = ({\n\tmovies,\n\tsortMethod\n}: {\n\tmovies: IMovie[];\n\tsortMethod: ISortMethod;\n}): IMovie[] => {\n\treturn movies.sort((a, b) => {\n\t\tif (a.myrate > b.myrate) {\n\t\t\treturn sortMethod.myrate.sort === \"asc\" ? 1 : -1;\n\t\t} else {\n\t\t\treturn sortMethod.myrate.sort === \"asc\" ? -1 : 1;\n\t\t}\n\t});\n};\n\nconst sortName = ({ movies, sortMethod }) => {\n\treturn movies.sort((a, b) => {\n\t\tif (a.name.toLowerCase() > b.name.toLowerCase()) {\n\t\t\treturn sortMethod.name.sort === \"asc\" ? 1 : -1;\n\t\t} else {\n\t\t\treturn sortMethod.name.sort === \"asc\" ? -1 : 1;\n\t\t}\n\t});\n};\n\nexport default function Sorter({\n\tsortMethod,\n\tmovies,\n\tsortPriority\n}: {\n\tmovies: IMovie[];\n\tsortMethod: ISortMethod;\n\tsortPriority: String;\n}): IMovie[] {\n\tif (sortMethod.name.sort === \"\" && sortMethod.myrate.sort == \"\") {\n\t\treturn movies;\n\t}\n\tconst sortedMovies = [];\n\tconst moviesCopy = movies.slice();\n\tif (sortPriority === \"myrate\") {\n\t\t//sort array by myrate\n\t\tconst sortedRate = sortMyrate({ movies: moviesCopy, sortMethod });\n\t\t//compress array into sub array if they have the same myrate value\n\t\tconst arranged = arrangeWithCommons({\n\t\t\tarray: sortedRate,\n\t\t\tmethod: \"myrate\"\n\t\t});\n\t\t//sort the individual sub array according to name\n\t\tfor (let i = 0; i < arranged.length; i++) {\n\t\t\tsortName({ movies: arranged[i], sortMethod });\n\t\t}\n\t\t//push all of the sorted array and subarray to sortedMovies\n\t\tarranged.map(subArray => {\n\t\t\tsubArray.map(arr => {\n\t\t\t\tsortedMovies.push(arr);\n\t\t\t});\n\t\t});\n\n\t\treturn sortedMovies;\n\t} else if (sortPriority === \"name\") {\n\t\t//sort array by name\n\t\tconst sortedName = sortName({ movies: moviesCopy, sortMethod });\n\t\t//compress array into sub array if they have the same name value\n\t\tconst arranged = arrangeWithCommons({\n\t\t\tarray: sortedName,\n\t\t\tmethod: \"name\"\n\t\t});\n\t\t//sort the individual sub array according to name\n\t\tfor (let i = 0; i < arranged.length; i++) {\n\t\t\tsortMyrate({ movies: arranged[i], sortMethod });\n\t\t}\n\t\t//push all of the sorted array and subarray to sortedMovies\n\t\tarranged.map(subArray => {\n\t\t\tsubArray.map(arr => {\n\t\t\t\tsortedMovies.push(arr);\n\t\t\t});\n\t\t});\n\t\treturn sortedMovies;\n\t} else {\n\t\tif (sortMethod.name.sort !== \"\") {\n\t\t\treturn sortName({ movies, sortMethod });\n\t\t} else {\n\t\t\treturn sortMyrate({ movies, sortMethod });\n\t\t}\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}